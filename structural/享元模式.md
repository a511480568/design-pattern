# 享元模式

## 定义

提供了减少对象数量从而改善应用所需的对象结构的方式

运用共享技术有效的支持大量细粒度的对象

## 适用场景

* 常常应用于系统低层的开发，以便解决系统的性能问题

* 系统有大量相似对象，需要缓存池的场景

## 优点

* 减少对象的创建，降低内存中对象的数量，降低系统的缓存，提高效率

* 减少内存之外的其他资源占用

## 缺点

* 关注内/外部状态、关注线程安全问题

* 使系统程序的逻辑复杂化

## UML

![享元模式UML](https://ws1.sinaimg.cn/large/7ebba446ly1fyvz0btow8j218m0pygqi.jpg)

说到共享模式就不得不提及内部状态和外部状态

**内部状态：** <font color=#FF0000>对象共享出来的信息，存储在享元对象内部，并不会随着环境的改变而改变</font>

**外部状态：** <font color=#FF0000>对象得以依赖的一个标记，是随环境的改变而改变的，不可共享的状态</font>

## 源码中体现享元模式

享元模式就是共享，自然而然我们就会想到String，连接池等等