# 组合模式

## 定义

将对象组合成树形结构以表示“部分-整体”的层次结构

## 适用场景

* 希望客户端可以忽略组合对象和单个对象的差异时

* 处理一个树形结构时

## 优点

* 可以清楚地定义分层次的复杂对象，表示对象的全部或部分层次

* 让客户端忽略了层次的差异，方便对整个层次结构进行控制

* 简化客户端代码

* 符合开闭原则

## 缺点

* 限制类型时较为复杂

* 使设计变得更加抽象

## UML

![组合模式UML](https://ws1.sinaimg.cn/large/7ebba446ly1fywshhdd0nj213g0vs78r.jpg)

## 代码中体现

![组合模式1UML](https://ws1.sinaimg.cn/large/7ebba446gy1fywtvoo0nnj212q0qctd8.jpg)

## 源码中体现组合模式

在mybatis中的SqlNode接口就是使用了组合模式，具体可以看下其中的源码